{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RusurePopup.js","utils/api.js","components/App.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","onCardClick","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","backgroundImage","avatar","type","aria-label","about","map","data","Footer","Date","getFullYear","ImagePopup","isOpen","onClose","PopupWithForm","onSubmit","title","children","buttonName","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","handleInputChange","e","target","value","useEffect","preventDefault","id","required","minLength","maxLength","placeholder","onChange","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","RusurePopup","onDeleteCard","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","Error","status","fetch","then","_handleRes","method","body","JSON","stringify","popupName","popupCaption","avatarInputUrl","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isRusurePopupOpen","setIsRusurePopupOpen","selectedCard","setSelectedCard","deletedCard","setDeletedCard","setCards","setCurrentUser","closeAllPopups","all","getUserInfo","getInitialCards","UserInfo","InitialCards","catch","err","console","log","Provider","caption","path","changeLikeCardStatus","newCard","newCards","c","setUserInfo","addNewCard","setAvatar","deleteCard","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.64b1d664.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.943b66f1.svg\";","import logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"логотип Место Россия\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\n\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport React from \"react\";\n\nfunction Card({ onCardClick, card, onCardLike, onCardDelete }) {\n  function handleCardClick() {\n    onCardClick(card.name, card.link);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `element__delete-button ${\n    isOwn ? \"\" : \"element__delete-button_hidden\"\n  }`;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__like-button ${\n    isLiked ? \"element__like-button_active\" : \"\"\n  } `;\n\n  return (\n    <li className=\"element\">\n      <div className=\"element__image-container\">\n        <img\n          className=\"element__image\"\n          src={card.link}\n          alt={`Изображение, на котором ${card.name}`}\n          onClick={handleCardClick}\n        />\n        <button\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        ></button>\n      </div>\n      <div className=\"element__caption\">\n        <h2 className=\"element__heading\">{card.name}</h2>\n        <div className=\"element__like-wrapper\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <h3 className=\"element__like-counter\">{card.likes.length}</h3>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  cards,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__block\">\n          <div\n            className=\"profile__avatar\"\n            onClick={onEditAvatar}\n            style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          ></div>\n\n          <div className=\"profile__info\">\n            <div className=\"profile__wrapper\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button\n                type=\"button\"\n                aria-label=\"Редактировать\"\n                className=\"profile__edit-button\"\n                onClick={onEditProfile}\n              ></button>\n            </div>\n            <p className=\"profile__caption\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"Добавить\"\n          className=\"profile__add-button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((data) => {\n            return (\n              <Card\n                card={data}\n                key={data._id}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__text\">&copy; {(new Date()).getFullYear()} Mesto Russia</p>\n      </footer>\n  );\n}\n\nexport default Footer;","function ImagePopup({ isOpen, card, onClose }) {\n  return (\n    <div className={`popup popup_type_image ${isOpen && \"popup_opened\"}`}>\n      <div className=\"popup__figure\">\n        <img\n          className=\"popup__image\"\n          alt={`Изображение ${card.name}`}\n          src={card.link}\n        />\n        <h2 className=\"popup__caption\">{card.name}</h2>\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          className=\"popup__close-icon popup__close-icon_position_corner\"\n          name=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","function PopupWithForm({\n  name,\n  isOpen,\n  onSubmit,\n  title,\n  children,\n  buttonName,\n  onClose,\n}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`}>\n      <form\n        className={`popup__container popup__container_type_${name}`}\n        name=\"popup__form\"\n        onSubmit={onSubmit}\n      >\n        <h2 className=\"popup__header\">{title}</h2>\n        {children}\n\n        <button\n          type=\"submit\"\n          className=\"popup__button\"\n          name=\"popup__submit-button\"\n        >\n          {buttonName}\n        </button>\n        <button\n          type=\"reset\"\n          aria-label=\"Закрыть\"\n          className=\"popup__close-icon\"\n          name=\"popup__reset-button\"\n          onClick={onClose}\n        ></button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose }) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleInputChange(e) {\n    e.target.name === \"popup__name\"\n      ? setName(e.target.value)\n      : setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"profile\"\n      buttonName=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        id=\"name-input\"\n        className=\"popup__input-text popup__input-text_type_name\"\n        name=\"popup__name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        placeholder=\"Ваше имя\"\n        value={name}\n        onChange={handleInputChange}\n      />\n      <span className=\"popup__error\" id=\"name-input-error\"></span>\n      <input\n        type=\"text\"\n        id=\"job-input\"\n        className=\"popup__input-text popup__input-text_type_job\"\n        name=\"popup__job\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        placeholder=\"Род деятельности\"\n        value={description}\n        onChange={handleInputChange}\n      />\n      <span className=\"popup__error\" id=\"job-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      buttonName=\"Обновить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        id=\"name-input\"\n        className=\"popup__input-text popup__input-text_type_avatar\"\n        name=\"popup__name\"\n        required\n        minLength=\"2\"\n        placeholder=\"Ссылка на картинку\"\n        ref={avatarRef}\n      />\n      <span className=\"popup__error\" id=\"name-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction AddPlacePopup({onAddPlace, isOpen, onClose}){\n\n  const [name, setName] = React.useState('');\nconst [link, setLink] = React.useState('');\n\nfunction handleInputChange(e) {\n  e.target.name === \"popup__name\"\n      ? setName(e.target.value)\n      : setLink(e.target.value);\n}\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  onAddPlace({name, link});\n  \n  } \n\n  return(\n<PopupWithForm\n        title=\"Новое место\"\n        name=\"add_card\"\n        buttonName=\"Добавить\"\n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"text\"\n          id=\"name-input\"\n          className=\"popup__input-text popup__input-text_type_name\"\n          name=\"popup__name\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          placeholder=\"Название\"\n          value={name}\n          onChange={handleInputChange}\n        />\n        <span className=\"popup__error\" id=\"name-input-error\"></span>\n        <input\n          type=\"url\"\n          id=\"job-input\"\n          className=\"popup__input-text popup__input-text_type_job\"\n          name=\"popup__job\"\n          required\n          minLength=\"2\"\n          placeholder=\"Ссылка на картинку\"\n          value={link}\n          onChange={handleInputChange}\n        />\n        <span className=\"popup__error\" id=\"job-input-error\"></span>\n      </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction RusurePopup({ onDeleteCard, isOpen, onClose }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"rusure\"\n      buttonName=\"Удалить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default RusurePopup;\n","export class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _handleRes(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    }\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n    }).then((res) => this._handleRes(res));\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then((res) => this._handleRes(res));\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._handleRes(res));\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n    }).then((res) => this._handleRes(res));\n  }\n\n  setUserInfo(popupName, popupCaption) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: popupName,\n        about: popupCaption,\n      }),\n    }).then((res) => this._handleRes(res));\n  }\n\n  setAvatar(avatarInputUrl) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatarInputUrl,\n      }),\n    }).then((res) => this._handleRes(res));\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\n      method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\n      headers: this._headers,\n    }).then((res) => this._handleRes(res));\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-18/\",\n  headers: {\n    authorization: \"bdefafd7-6c0d-43a5-8c84-faac50a6afd4\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React from \"react\";\n\nimport Header from \"./Header\";\nimport \"../index.css\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport RusurePopup from \"./RusurePopup\";\nimport { api } from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isRusurePopupOpen, setIsRusurePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: \"\",\n    link: \"\",\n  });\n  const [deletedCard, setDeletedCard] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([UserInfo, InitialCards]) => {\n        setCurrentUser(UserInfo);\n        setCards(InitialCards);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }, []);\n\n  function handleDeleteClick(card) {\n    setIsRusurePopupOpen(true);\n    setDeletedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleImageClick(caption, path) {\n    setSelectedCard({ name: caption, link: path });\n    setIsImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsRusurePopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .setUserInfo(name, about)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .setAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleAddPlace({ name, link }) {\n    api\n      .addNewCard(name, link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleDeleteCard() {\n    api\n      .deleteCard(deletedCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deletedCard._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onEditAvatar={handleEditAvatarClick}\n          onAddPlace={handleAddPlaceClick}\n          onCardClick={handleImageClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeleteClick}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <RusurePopup\n          isOpen={isRusurePopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleDeleteCard}\n        />\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App  />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}